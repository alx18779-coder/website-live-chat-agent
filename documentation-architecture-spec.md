
​**​文档状态​**​：已批准

​**​生效日期​**​：立即

​**​目标读者​**​：所有AI员工

​**​核心原则​**​：本规范自身也必须遵循其所定义的规则，并存放于项目元仓库中。所有文档的创建、更新和维护必须遵循 ​**​“文档即代码”​**​ 的原则。

---

### 一、宗旨与原则

1. ​**​单一事实来源​**​：任何知识只在一处记录和更新。
    
2. ​**​机器可读优先​**​：文档结构、命名需便于自动化工具解析和处理。
    
3. ​**​高效检索​**​：通过规范的目录和命名，确保信息可快速定位。
    
4. ​**​持续更新​**​：文档是活的，必须随项目迭代而更新。
    

### 二、仓库策略

1. ​**​多仓策略​**​：
    
    - 每个可独立部署的服务或应用拥有一个独立的Git仓库。
        
    - 仓库命名模式：`<org>-<project>-<service-name>`(e.g., `acme-nexus-user-service`).
        
    
2. ​**​统一要求​**​：
    
    - 所有仓库​**​必须​**​包含本规范定义的​**​核心文档目录结构​**​。
        
    - 所有仓库​**​必须​**​在根目录`README.md`中声明遵守本规范。
        
    

### 三、标准目录结构

每个项目仓库​**​必须​**​遵循以下结构：

```
<repo-root>/
├── .github/                 # CI/CD工作流配置
│   └── workflows/
│       └── ci-docs.yml     # 文档检查与构建流水线
├── docs/                    # 【核心】文档根目录
│   ├── adr/                # 架构决策记录
│   ├── architecture/        # 系统架构文档
│   ├── epics/              # Epic/功能简报
│   ├── runbooks/           # 运行手册
│   └── meetings/           # （可选）重要会议记录
├── src/                    # 源代码
│   └── services/
│       └── <service-name>/
│           ├── api/
│           │   └── openapi.yaml # API规范文件
│           ├── src/
│           └── README.md   # 服务详细说明
├── CHANGELOG.md           # 项目变更日志
├── README.md              # 项目入口文档
└── package.json           # 或其他项目配置文件
```

### 四、详细使用规范

#### 1. 项目入口文档 (README.md)

- ​**​位置​**​：仓库根目录。
    
- ​**​目的​**​：项目的第一入口和名片。
    
- ​**​必须包含章节​**​：
    
    ```
    # [项目名称]
    > 一句话描述项目核心价值。
    
    ## 🚀 快速开始
    (环境要求、安装、启动、测试命令)
    
    ## 📁 项目结构
    (使用tree命令生成的核心目录树)
    
    ## 🤖 开发者指南
    (代码规范、提交规范、文档体系链接)
    
    ## 📚 核心文档索引
    (架构、API、运行手册的快速链接)
    
    ## 🛠️ 运维指南
    (部署命令、监控大盘链接)
    ```
    
- ​**​责任人​**​：​**​开发者AI​**​（主导），​**​运维AI​**​（协助）。
    

#### 2. 服务/模块文档 (README.md)

- ​**​位置​**​：服务或模块的根目录下 (e.g., `/src/services/auth-service/README.md`)。
    
- ​**​目的​**​：描述该服务/模块的职责、内部实现和如何交互。
    
- ​**​必须包含章节​**​：职责、核心接口、内部设计（含图表）、如何调试、相关链接（ADR, Runbook）。
    
- ​**​责任人​**​：负责该服务的​**​开发者AI​**​。
    

#### 3. 架构决策记录 (ADR)

- ​**​位置​**​：`/docs/adr/`
    
- ​**​命名​**​：`[4位序号]-[简短描述].md`(e.g., `0001-use-monorepo.md`). 序号需全局递增。
    
- ​**​模板​**​：
    
    ```
    ---
    status: proposed | accepted | rejected | superseded | deprecated
    date: YYYY-MM-DD
    deciders: [Agent-A, Agent-B]
    ---
    # [序号]: [标题]
    ## Context
    [说明决策的背景和问题]
    
    ## Decision
    [我们决定……]
    
    ## Consequences
    [此决策带来的所有后果，正负面均需说明]
    ```
    
- ​**​流程​**​：新ADR通过PR创建，必须由​**​架构师AI​**​评审合并。
    
- ​**​责任人​**​：​**​架构师AI​**​。
    

#### 4. 系统架构文档 (Architecture)

- ​**​位置​**​：`/docs/architecture/`
    
- ​**​目的​**​：提供系统的高层抽象描述，用于 onboarding、技术评审和全局理解。
    
- ​**​内容规定​**​：
    
    - ​**​必须包含​**​：
        
        - `system-context.diagram`: C1上下文图，描述系统与外部用户和系统的交互关系。
            
        - `container-diagram.diagram`: C2容器图，描述系统内部的主要服务、应用、数据库等及其交互。
            
        
    - ​**​建议包含​**​：
        
        - `deployment.diagram`: 部署图，描述系统在生产环境中的部署拓扑。
            
        - `tech-stack.md`: 核心技术选型清单及简要选型理由。
            
- ​**​格式​**​：优先使用 `.drawio`格式（版本化友好）或 `.png`/`.svg`（需附上源文件链接）。鼓励在目录下使用 `README.md`作为架构文档的索引。
    
- ​**​更新触发​**​：系统边界、技术栈或核心服务间依赖关系发生重大变更时。
    
- ​**​责任人​**​：​**​架构师AI​**​。
    

#### 5. 产品需求简报 (Epics)

- ​**​位置​**​：`/docs/epics/`
    
- ​**​命名​**​：`epic-[​Issue-Epic-ID]-[brief-title].md`。
    
- ​**​模板​**​：
```
    status: drafting | in-review | approved | implemented
    jira: https://jira.example.com/browse/AUTH-101
    ---
    # Epic [ID]: [标题]
    
    ## 1. 目标与价值
    [清晰描述为什么要做这个功能，以及如何衡量成功]
    
    ## 2. 核心用户故事
    *   作为[角色]，我可以[行动]，以便[获得价值]。
    *   ...
    
    ## 3. 非功能性需求
    *   **性能**: [e.g., API P99 latency < 200ms]
    *   **安全**: [e.g., 所有凭证必须加密存储]
    *   **合规**: [e.g., 必须记录审计日志]
    
    ## 4. 待办清单
    - [ ] 分解用户故事并创建开发任务
    - [ ] 技术方案设计与评审
    - [ ] ...
```
    
- ​**​责任人​**​：​**​产品经理AI​**​。
    

#### 6. API规范 (OpenAPI)

- ​**​位置​**​：`/src/services/[service-name]/api/openapi.yaml`
    
- ​**​规范​**​：必须使用OpenAPI 3.0+。所有端点和模型必须正确定义。
    
- ​**​验证​**​：CI流水线必须集成校验命令，无效规范将导致构建失败。
    
- ​**​责任人​**​：​**​开发者AI​**​。
    

#### 7. 运行手册 (Runbook)

- ​**​位置​**​：`/docs/runbooks/`
    
- ​**​命名​**​：`[service-name]-[操作类型].md`(e.g., `user-service-deployment.md`)。
    
- ​**​内容​**​：​**​必须包含​**​清晰的分步命令、环境变量、健康检查、回滚步骤。使用命令式语气和代码块。
    
- ​**​责任人​**​：​**​运维AI​**​。
    

#### 8. 变更日志 (CHANGELOG)

- ​**​位置​**​：根目录`CHANGELOG.md`
    
- ​**​格式​**​：严格遵守[Keep a Changelog](https://keepachangelog.com/)标准。
    
- ​**​自动化​**​：必须配置相关工具，根据Conventional Commits信息自动生成条目。
    
- ​**​责任人​**​：​**​开发者AI​**​（提交），CI（自动生成）。
    

#### 9. 会议记录 (Meetings)

- ​**​位置​**​：`/docs/meetings/`(可选)
    
- ​**​命名​**​：`YYYY-MM-DD-[meeting-topic].md`。
    
- ​**​内容​**​：只记录结论和行动项。必须包含：参会人员、讨论主题、结论、行动项（含负责人和截止日期）。
    
- ​**​责任人​**​：会议发起人或指定记录员。
    

### 五、维护与治理流程

1. ​**​文档健康度巡检​**​：
    
    - ​**​执行者​**​：运维AI（每月一次）。
        
    - ​**​动作​**​：检查所有仓库的核心目录结构，排查过期文档并创建Issue。
        
    
2. ​**​ADR审计​**​：
    
    - ​**​执行者​**​：架构师AI（每季度一次）。
        
    - ​**​动作​**​：审核所有ADR，将过时内容标记为`superseded`或`deprecated`。
        
    
3. ​**​规范更新流程​**​：
    
    - 对本规范的任何修改，必须发起PR，并需由​**​所有角色类型的AI员工代表​**​共同评审通过后方可合并。
        
    

---

​**​规范结束​**​
